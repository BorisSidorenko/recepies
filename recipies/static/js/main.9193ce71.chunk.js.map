{"version":3,"sources":["context/ThemeContext.js","hooks/useTheme.js","firebase/config.js","pages/create/Create.js","assets/trashcan.svg","components/RecipeList.js","pages/home/Home.js","pages/recipe/Recipe.js","pages/search/Search.js","hooks/useFetch.js","components/Searchbar.js","components/Navbar.js","assets/mode-icon.svg","components/ThemeSelector.js","App.js","index.js"],"names":["ThemeContext","createContext","themeReducer","state","action","type","color","payload","mode","ThemeProvider","children","useReducer","dispatch","Provider","value","changeColor","changeMode","useTheme","context","useContext","undefined","Error","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","Create","useState","title","setTitle","method","setMethod","cookingTime","setCookingTime","newIngredient","setNewIngredient","ingredients","setIngredients","ingredientInput","useRef","history","useHistory","handleSubmit","e","a","preventDefault","doc","collection","add","push","console","log","className","onSubmit","onChange","target","required","ref","onClick","ing","trim","includes","prevIngredients","current","focus","map","i","RecipeList","recipes","length","recipe","substring","to","id","src","Trashcan","delete","err","message","handleDeleteClick","alt","Home","data","setData","isPending","setIsPending","error","setError","useEffect","unsub","onSnapshot","snapshot","exists","results","docs","forEach","Recipe","useParams","setRecipe","toLowerCase","update","Search","queryString","useLocation","search","query","URLSearchParams","get","url","options","setOptions","postData","headers","body","JSON","stringify","controller","AbortController","fetchData","fetchOptions","fetch","signal","res","ok","statusText","json","name","abort","useFetch","Searchbar","term","setTerm","htmlFor","Navbar","style","background","themeColors","ThemeSelector","modeIcon","filter","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9193ce71.chunk.js","sourcesContent":["import { createContext, useReducer } from \"react\";\r\n\r\nexport const ThemeContext = createContext();\r\n\r\nconst themeReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_COLOR':\r\n            return { ...state, color: action.payload }\r\n        case 'CHANGE_MODE':\r\n            return { ...state, mode: action.payload }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function ThemeProvider({ children }) {\r\n    const [state, dispatch] = useReducer(themeReducer, {\r\n        color: '#58249c',\r\n        mode: 'light'   \r\n    });\r\n\r\n    const changeColor = (color) => {\r\n        dispatch({ type: 'CHANGE_COLOR', payload: color });\r\n    }\r\n\r\n    const changeMode = (mode) => {\r\n        dispatch({ type: 'CHANGE_MODE', payload: mode });\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={{...state, changeColor, changeMode}}>\r\n            {children}\r\n        </ThemeContext.Provider>\r\n    )\r\n}","import { useContext } from 'react';\r\nimport { ThemeContext } from '../context/ThemeContext';\r\n\r\nexport const useTheme = () => {\r\n    const context = useContext(ThemeContext);\r\n\r\n    if (context === undefined) {\r\n        throw new Error('useTheme() must be used inside a ThemeProvider');\r\n    }\r\n\r\n    return context;\r\n}","import firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDhKv0ikwiUCx-hiMZOKCLzeW_aGNzJ2As\",\r\n    authDomain: \"recipies-7fc7f.firebaseapp.com\",\r\n    projectId: \"recipies-7fc7f\",\r\n    storageBucket: \"recipies-7fc7f.appspot.com\",\r\n    messagingSenderId: \"643434173615\",\r\n    appId: \"1:643434173615:web:6a0ceb936763022a3c705a\"\r\n};\r\n\r\n//init firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n//init services\r\nconst projectFirestore = firebase.firestore();\r\n\r\nexport { projectFirestore };","import { useState, useRef } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { projectFirestore } from '../../firebase/config';\r\nimport './Create.css';\r\n\r\nexport default function Create() {\r\n    const [title, setTitle] = useState('');\r\n    const [method, setMethod] = useState('');\r\n    const [cookingTime, setCookingTime] = useState('');\r\n    const [newIngredient, setNewIngredient] = useState('');\r\n    const [ingredients, setIngredients] = useState([]);\r\n    const ingredientInput = useRef(null);\r\n    const history = useHistory();\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();    \r\n        const doc = { title, ingredients, method, cookingTime: `${cookingTime} minutes` };\r\n        \r\n        try {\r\n            await projectFirestore.collection('recipies').add(doc);\r\n            history.push('/');\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const handleAdd = (e) => {\r\n        e.preventDefault();\r\n        const ing = newIngredient.trim();\r\n        \r\n        if (ing && !ingredients.includes(ing)) {\r\n            setIngredients(prevIngredients => [...prevIngredients, ing])\r\n        }\r\n        setNewIngredient('');     \r\n        ingredientInput.current.focus();   \r\n    }\r\n\r\n    return (\r\n        <div className=\"create\">\r\n            <h2 className=\"page-title\">Add a New Recipe</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    <span>Recipe title:</span>\r\n                    <input type=\"text\" onChange={(e) => setTitle(e.target.value)} value={title} required/>\r\n                </label>\r\n                <label>\r\n                    <span>Recipe ingredients:</span>\r\n                    <div className=\"ingredients\">\r\n                        <input type=\"text\" onChange={(e) => setNewIngredient(e.target.value)} value={newIngredient} ref={ingredientInput}/>\r\n                        <button className=\"btn\" onClick={handleAdd}>Add</button>\r\n                    </div>\r\n                </label>\r\n                <p>Current ingredients: {ingredients.map(i => <em key={i}>{i}, </em>)}</p>\r\n                <label>\r\n                    <span>Recipe method:</span>\r\n                    <textarea onChange={(e) => setMethod(e.target.value)} value={method} required/>\r\n                </label>\r\n                <label>\r\n                    <span>Cooking time (minutes):</span>\r\n                    <input type=\"number\" onChange={(e) => setCookingTime(e.target.value)} value={cookingTime} required/>\r\n                </label>\r\n                <button className=\"btn\">Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/trashcan.1129c53a.svg\";","import { Link } from 'react-router-dom';\r\nimport { useTheme } from '../hooks/useTheme';\r\nimport './RecipeList.css';\r\nimport { projectFirestore } from '../firebase/config';\r\nimport Trashcan from '../assets/trashcan.svg';\r\n\r\nexport default function RecipeList({ recipes }) {\r\n    const { mode } = useTheme();\r\n\r\n    if (recipes.length === 0) {\r\n        return <div className=\"error\">No recipes to load...</div>\r\n    }\r\n\r\n    const handleDeleteClick = (id) => {\r\n        try {            \r\n            projectFirestore.collection('recipies').doc(id).delete();\r\n        } catch(err) {\r\n            console.log(err.message);\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className=\"recipe-list\">\r\n            {recipes.map((recipe) => (\r\n                <div key={recipe.id} className={`card ${mode}`}>\r\n                    <h3 >{recipe.title}</h3>\r\n                    <p>{recipe.cookingTime} to make.</p>\r\n                    <div>{recipe.method.substring(0, 100)}...</div>\r\n                    <Link to={`/recipes/${recipe.id}`}>Cook This</Link>\r\n                    <img src={Trashcan} className=\"delete\" onClick={() => handleDeleteClick(recipe.id)} alt=\"Trashcan icon\"/>\r\n                </div>                \r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport RecipeList from '../../components/RecipeList';\r\nimport { projectFirestore } from '../../firebase/config';\r\nimport './Home.css';\r\n\r\nexport default function Home() {\r\n    const [data, setData] = useState(null);\r\n    const [isPending, setIsPending] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setIsPending(true);\r\n\r\n        const unsub = projectFirestore.collection('recipies').onSnapshot((snapshot) => {\r\n            if (snapshot.exists) {\r\n                setError('No recipies to load');\r\n                setIsPending(false);\r\n            } else {\r\n                let results = [];\r\n                snapshot.docs.forEach(doc => {\r\n                    results.push({ id: doc.id, ...doc.data() });                        \r\n                });\r\n                setData(results);\r\n                setIsPending(false);\r\n            }\r\n        }, (err) => {\r\n            setError(err.message);\r\n            setIsPending(false);\r\n        })\r\n\r\n        return () => unsub();\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            {error && <p className=\"error\">{error}</p>}\r\n            {isPending && <p className=\"loading\">Loading...</p>}\r\n            {data && <RecipeList recipes={data}/>}\r\n        </div>\r\n    )\r\n}\r\n","import { useParams } from 'react-router';\r\nimport { useTheme } from '../../hooks/useTheme';\r\nimport { useEffect, useState } from 'react';\r\nimport { projectFirestore } from '../../firebase/config';\r\nimport './Recipe.css';\r\n\r\nexport default function Recipe() {\r\n    const { id } = useParams();\r\n    const { mode } = useTheme();\r\n\r\n    const [recipe, setRecipe] = useState(null);\r\n    const [isPending, setIsPending] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setIsPending(true);\r\n\r\n        const unsub = projectFirestore.collection('recipies').doc(id).onSnapshot((doc) => {\r\n            if (doc.exists) {\r\n                setIsPending(false);\r\n                setRecipe(doc.data());                \r\n            } else {\r\n                setIsPending(false);\r\n                setError('Could not find that recipe');\r\n            }\r\n        })\r\n\r\n        return () => unsub();\r\n    }, [id])\r\n\r\n    const handleUpdateClick = () => {\r\n        projectFirestore.collection('recipies').doc(id).update({\r\n            title: 'Default title'            \r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className={`recipe ${mode}`}>\r\n            {error && <p className=\"error\">{error}</p>}\r\n            {isPending && <p className=\"loading\">Loading...</p>}\r\n            {recipe && (\r\n                <>\r\n                    <h2 className=\"page-title\">{recipe.title}</h2>\r\n                    <p>Takes {recipe.cookingTime} to cook.</p>\r\n                    <ul>\r\n                        {recipe.ingredients.map((ing) => <li key={ing}>{ing}</li>)}\r\n                    </ul>\r\n                    <p className=\"method\">{recipe.method}</p>\r\n                    {recipe.title.toLowerCase().includes('test') && <button onClick={handleUpdateClick}>Update me</button>}                    \r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import { useLocation } from 'react-router';\r\nimport { useFetch } from '../../hooks/useFetch';\r\nimport RecipeList from '../../components/RecipeList';\r\nimport './Search.css';\r\n\r\nexport default function Search() {\r\n    const queryString = useLocation().search;\r\n    const queryParams = new URLSearchParams(queryString);\r\n    const query = queryParams.get('q');\r\n\r\n    const url = `http://localhost:3000/recipes/?q=${query}`;\r\n    const { error, isPending, data } = useFetch(url);\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"page-title\">Recipes including \"{query}\"</h2>\r\n            {error && <p className=\"error\">{error}</p>}\r\n            {isPending && <p className=\"loading\">Loading...</p>}\r\n            {data && <RecipeList recipes={data}/>}\r\n        </div>\r\n    )\r\n}\r\n","import { useState, useEffect } from \"react\"\n\nexport const useFetch = (url, method = \"GET\") => {\n  const [data, setData] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const [error, setError] = useState(null)\n  const [options, setOptions] = useState(null)\n\n  const postData = (postData) => {\n    setOptions({\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(postData)\n    });\n  }\n\n  useEffect(() => {\n    const controller = new AbortController()\n\n    const fetchData = async (fetchOptions) => {\n      setIsPending(true)\n      \n      try {\n        const res = await fetch(url, { ...fetchOptions, signal: controller.signal })\n        if(!res.ok) {\n          throw new Error(res.statusText)\n        }\n        const data = await res.json()\n\n        setIsPending(false)\n        setData(data)\n        setError(null)\n      } catch (err) {\n        if (err.name === \"AbortError\") {\n          console.log(\"the fetch was aborted\")\n        } else {\n          setIsPending(false)\n          setError('Could not fetch the data')\n        }\n      }\n    }\n    \n    if (method === \"GET\") {\n      fetchData()\n    }\n\n    if (method === \"POST\" && options) {\n      fetchData(options)\n    }\n\n    return () => {\n      controller.abort()\n    }\n\n  }, [url, options, method])\n\n  return { data, isPending, error, postData }\n}","import { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport './Searchbar.css';\r\n\r\nexport default function Searchbar() {\r\n    const [term, setTerm] = useState('');\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        history.push(`/search/?q=${term}`);\r\n    }\r\n\r\n    return (\r\n        <div className=\"searchbar\">\r\n            <form onSubmit={handleSubmit}>\r\n                <label htmlFor=\"search\">Search</label>\r\n                <input type=\"text\" id=\"search\" onChange={(e) => setTerm(e.target.value)} required/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport Searchbar from './Searchbar';\r\nimport { useTheme } from '../hooks/useTheme';\r\nimport './Navbar.css';\r\n\r\nexport default function Navbar() {    \r\n    const { color } = useTheme();\r\n\r\n    return (\r\n        <div className=\"navbar\" style={{ background: color }}>\r\n            <nav>\r\n                <Link to=\"/\" className=\"brand\">\r\n                    <h1>Cooking Ninja</h1>\r\n                </Link>\r\n                <Searchbar />\r\n                <Link to=\"/create\">\r\n                    Create Recipe\r\n                </Link>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/mode-icon.651cf792.svg\";","import './ThemeSelector.css';\r\nimport { useTheme } from '../hooks/useTheme';\r\nimport modeIcon from '../assets/mode-icon.svg';\r\n\r\nconst themeColors = ['#58249c', '#249c6b', '#b70233'];\r\n\r\nexport default function ThemeSelector() {\r\n    const { changeColor, changeMode, mode } = useTheme();\r\n\r\n    const toggleMode = () => changeMode(mode === 'light' ? 'dark' : 'light');\r\n\r\n    return (\r\n        <div className=\"theme-selector\">\r\n            <div className=\"mode-toggle\">\r\n                <img src={modeIcon} onClick={toggleMode} alt=\"dark/light toggle icon\" style={{ filter: mode === 'dark' ? 'invert(100%)' : 'invert(20%)' }}/>\r\n            </div>\r\n            <div className=\"theme-buttons\">\r\n                    {themeColors.map(color => (\r\n                        <div \r\n                            key={color}\r\n                            onClick={() => changeColor(color)}\r\n                            style={{ background: color }}\r\n                        />\r\n                    ))}\r\n            </div>           \r\n        </div>\r\n    )\r\n}\r\n","import { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport { useTheme } from './hooks/useTheme';\n\nimport Create from './pages/create/Create';\nimport Home from './pages/home/Home';\nimport Recipe from './pages/recipe/Recipe';\nimport Search from './pages/search/Search';\nimport Navbar from './components/Navbar';\nimport ThemeSelector from './components/ThemeSelector';\n\nimport './App.css'\n\nfunction App() {\n  const { mode } = useTheme();\n  return (\n    <div className={`App ${mode}`}>\n      <BrowserRouter>\n        <Navbar />\n        <ThemeSelector />\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/create\">\n            <Create />\n          </Route>\n          <Route path=\"/search\">\n            <Search />\n          </Route>\n          <Route path=\"/recipes/:id\">\n            <Recipe />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { ThemeProvider } from './context/ThemeContext';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>  \n    <ThemeProvider>      \n      <App />    \n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}